{% extends "base.html" %}
{% block body %}

        <div class="page-content">
          
            {% if player %}
            <div class="left-side" style="height: auto !important;">
                <article class="default-section profile-section" style="margin-bottom: 20px;">
                    <div class="background-image">
                        <a href="{{path}}/hotel" class="rounded-button white plain hotel-button enter-hotel">{{locale.to}} {{sitename}}</a>
                    </div>
                    <div class="profile-content">
                        <div class="header-image">
                            <img src="{{fpath}}/avatar/avatarimage?figure={{player.look}}&gesture=sml&amp;size=l" width="64" height="110" class="figure">
                        </div>

                        <div class="stats">
                            <div class="icons credits"></div>
                            <div style="color: #E2AE1D;">
                                {{player.credits}}
                            </div>
                          
                            {% for value in currencys %}
                            <div class="icons {{value.name}}"></div>
                            <div style="color: #BA7CC2;">
                               {{value.amount}}
                            </div>             
                            {% endfor %}
                        </div>
                    </div>
                </article>

                {% if data.friends is not empty %}
                <article class="default-section">
                    <div class="aside-title-content">{{locale.friends_online}}</div>
                    <div class="aside-content">
                        {% for friends in data.friends %}
                        <div class="friends-container">
                            <a href="{{path}}/profile/{{friends.username}}">
                                <div class="avatar">
                                    <img src="{{fpath}}/avatarimage?figure={{friends.figure}}&head_direction=2&gesture=sml&headonly=true" alt="{{friends.username}}">
                                </div>
                            </a>
                            <div class="username">{{friends.username}}</div>
                        </div>
                        {% endfor %}
                    </div>
                </article>
                {% endif %}

                {% if data.campaigns is not empty %}
                <article class="default-section">
                    <div class="aside-title-content">{{locale.now_in}} {{hotelname}}</div>
                    <div class="aside-content">
                        <div class="campaigns">
                            {% for row in data.campaigns %}
                            <div class="item">
                                <a href="{{row.link}}" {% if row.target == "_blank" %} target="{{row.target}}"{% endif %}>
                                    <div class="img" style="background-image:url({{row.image}})"></div>
                                    <div class="details">
                                        <div class="title">{{row.title}}</div>
                                        <div class="desc">{{row.description}}</div>
                                    </div>
                                </a>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </article>
                {% endif %}
              
            </div>
          
            <div class="right-side">
                <article class="default-section">
                    <div class="aside-title-content">{{locale.latest_news}}</div>
                    <div class="aside-desc-content">{{locale.latest_facts}}</div>  
                    <div class="aside-content">
                        <div class="related-articles-container">
                            {% for news in news %}
                            <a href="{{path}}/article/{{news.id}}-{{news.slug}}" class="related-article-container">
                                <div class="related-article-thumbnail" style="background-image: url({{news.header}});"></div>
                                <div class="related-article-details">
                                    <div class="related-article-title">{{news.title}}</div>
                                    <div class="related-article-date">{{news.timestamp}}</div>
                                </div>
                            </a>
                            {% endfor %}
                        </div>
                    </div>
                </article>
            </div>
            {% endif %}
          
          
            <div class="left-side">
                <aside class="default-section">
                  
                    <div class="aside-title-content">{{locale.popular_rooms}}</div>
                    <div class="aside-desc-content">{{locale.popular_rooms_label}}</div>
                  
                    <style>
                        .page-container[data-page = "home"] .page-content table {
                            width: 100%;
                            height: 50px;
                            font-size: 13px;
                            border-spacing: 0;
                            border-collapse: collapse;
                        }

                        .page-container[data-page = "home"] .page-content table tr {
                            height: 50px;
                        }

                        .page-container[data-page = "home"] .page-content .table-striped>tbody>tr:nth-of-type(odd) {
                            background-color: #f9f9f9;
                        }

                        .page-container[data-page = "home"] .page-content .button {
                            color: #222;
                            outline: none;
                            padding: 5px;
                            margin: 0;
                            border-radius: 4px;
                            border: 1px solid #000000;
                            min-width: 50px;
                            font-weight: 500;
                            font-size: 12px;
                            text-decoration: none;
                            cursor: pointer;
                            box-sizing: border-box;
                            background: linear-gradient(to bottom, #F3F3F3 50%, #d9d9d9 50%);
                            box-shadow: inset 0 0 0 2px #d9d9d9;
                            overflow: hidden;
                            text-overflow: ellipsis;
                            white-space: nowrap;
                            -webkit-touch-callout: none;
                            -webkit-user-select: none;
                            -khtml-user-select: none;
                            -moz-user-select: none;
                            -ms-user-select: none;
                            user-select: none;
                            text-shadow: none;
                        }

                        .page-container[data-page = "home"] .page-content .button:active {
                            color: #000;
                            background: linear-gradient(to bottom, #E1E1E1 50%, #A3A3A3 50%);
                            box-shadow: inset 0 0 0px 2px #A3A3A3
                        }

                        .page-container[data-page = "home"] .page-content .button:hover {
                            color: #000;
                            background: linear-gradient(to bottom, #ffffff 50%, #EBEBEB 50%);
                            box-shadow: inset 0 0 0px 2px #ffffff;
                        }
                    </style>
                  
                    {% if rooms is empty %}
                        <div class="aside-content">
                            {{locale.popular_no_rooms}}
                        </div>
                    {% endif %}
                  
                    {% if rooms is not empty %}
                    <div class="aside-content">
                        <table class="rooms table table-striped">
                            <tbody>
                                {% for row in rooms %}
                                    {% if row.users >= 25 %}
                                        {% set number = 5 %}
                                    {% elseif row.users >= 15 %}
                                        {% set number = 4 %}
                                    {% elseif row.users >= 10 %}
                                        {% set number = 3 %}
                                    {% elseif row.users >= 1 %}
                                        {% set number = 2 %}
                                    {% else %}
                                        {% set number = 1 %}
                                    {% endif %}
                                <tr>
                                    <td style="text-align: center;"><img src="{{path}}/assets/images/web/pages/community/rooms/room_icon_{{number}}.gif"></td>
                                    <td style="text-align: justify;word-break: break-word;">{{row.name}}<br><i style="font-size: 11px;word-break: break-word;"></i></td>
                                    <td><img src="{{path}}/assets/images/web/pages/community/rooms/visitors.gif"> <b>{{row.users}}</b></td>
                                    <td style="width: 150px;padding-left: 20px"><a href="{{path}}/hotel?room={{row.id}}" class="button">{{locale.goto_room}}</a></td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                    {% endif %}
                    
                </aside>
            </div>
            <div class="right-side" style="margin-bottom: 7px;">
                <aside class="default-section">
                    <div class="aside-title-content">{{locale.popular_groups}}</div>
                    <div class="aside-desc-content">{{locale.popular_groups_label}}</div>

                    <style>
                        #popularGroups {
                            width: 100%;
                            height: 100%;
                            border: 1px solid rgba(0, 0, 0, 0.2);
                            border-bottom: 2px solid rgba(0, 0, 0, 0.2);
                            border-radius: 5px;
                            float: left;
                            margin-bottom: 10px;
                            padding-left: 60px;
                            padding-top: 5px;
                            font-size: 13px;
                            color: #000;
                            text-decoration: none;
                        }

                        #popularGroups .countGroupMembers {
                            float: right;
                            width: 50px;
                            height: 14px;
                            line-height: 14px;
                            background: url({{path}}/assets/images/web/pages/community/groups/members.png) 0% 50% no-repeat;
                            padding-left: 20px;
                            font-size: 11px;
                        }

                        #popularGroups .groupName {
                            font-weight: 400;
                        }

                        #popularGroups .groupDesc {
                            color: gray;
                            font-size: 10px;
                            height: 29px;
                            overflow: hidden;
                        }
                    </style>
                    <div class="aside-content">
                        {% if groups is empty %}
                            {{locale.popular_no_groups}}
                        {% endif %}
                        {% for row in groups %}
                            <div id="popularGroups" style="background: url('{{fpath}}/badge/{{row.badge}}') 10px 50% no-repeat;"><div class="countGroupMembers">{{row.count}}</div><div class="groupName">{{row.name}}</div><div class="groupDesc">{{row.description}}</div></div>
                        {% endfor %}
                    </div>
                </aside>
            </div>
            
            <div class="clear"></div>
            <br />
            {% if player is empty %}
            <div class="articles-container">
                {% for news in news %}
                <div class="article-container" data-id="{{news.id}}">
                    <a href="{{path}}/article/{{news.id}}-{{news.slug}}" class="article-content pixelated" style="background-image: url({{news.header}});">
                        <div class="article-header">
                            <div class="article-category">{{news.category}}</div>
                            <div class="article-separation" style="background-color: #8f8c8c;"></div>
                            <div class="article-title title" data-id="{{news.id}}">{{news.title}}</div>
                            <div class="article-title title-sub" data-id="{{news.id}}" style="display:none">{{news.short_story}}</div>
                        </div>
                    </a>
                </div>
                {% endfor %}
            </div>
            <div class="load-more-button">
                <button class="rounded-button">{{locale.load_news}}</button>
            </div>
            </div>
            {% endif %}
{% endblock %}